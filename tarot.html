<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
<meta http-equiv="Pragma" content="no-cache">
<meta http-equiv="Expires" content="0">
    <title>å¡”ç½—ç‰ŒæŠ½å–ä½“éªŒ</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            padding: 20px;
            background-color: #f5f5f5;
            margin: 0;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        
        .container {
            max-width: 800px;
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        h1 {
            color: #333;
            margin-bottom: 10px;
        }
        
        .subtitle {
            color: #666;
            margin-bottom: 30px;
        }
        
        .card-container {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 40px 0;
            flex-wrap: wrap;
        }
        
        .card {
            width: 180px;
            height: 250px;
            border-radius: 12px;
            cursor: pointer;
            position: relative;
            transition: transform 0.3s;
        }
        
        .card:hover {
            transform: translateY(-5px);
        }
        
        .card-front {
            background: linear-gradient(135deg, #8b5a2b, #6b4f22);
            color: white;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            border: 3px solid #d4a762;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        
        .card-back {
            background: white;
            border: 2px solid #ddd;
            padding: 15px;
            text-align: left;
            display: none;
            overflow-y: auto;
        }
        
        .card-back img {
            width: 100%;
            max-height: 130px;
            object-fit: contain;
            border-radius: 5px;
            margin-bottom: 10px;
            display: block;
        }
        
        .card-number {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .card-title {
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 10px;
            color: #8b5a2b;
        }
        
        .card-text {
            font-size: 14px;
            line-height: 1.4;
        }
        
        .btn {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 12px 30px;
            font-size: 16px;
            border-radius: 50px;
            cursor: pointer;
            margin-top: 20px;
            transition: background 0.3s;
        }
        
        .btn:hover {
            background: #45a049;
        }
        
        .interpretation {
            margin-top: 40px;
            padding: 20px;
            background: #f9f9f9;
            border-radius: 10px;
            text-align: left;
            display: none;
        }
        
        .instruction {
            font-size: 18px;
            margin: 20px 0;
            color: #555;
        }
        
        .footer {
            margin-top: 30px;
            color: #888;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ”® å¡”ç½—ç‰ŒæŠ½å–ä½“éªŒ</h1>
        <p class="subtitle">æ¢ç´¢è¿‡å»ã€ç°åœ¨ä¸æœªæ¥çš„èƒ½é‡çŠ¶æ€</p >
        
        <!-- åˆ†ç»„ä¿¡æ¯æ¡†å·²ä»æ­¤å¤„ç§»é™¤ -->
        
        <div class="instruction" id="instruction">
            è¯·æŒ‰é¡ºåºç‚¹å‡»ä¸‰å¼ ç‰Œï¼ˆå…ˆç‚¹å‡»â€œè¿‡å»â€ï¼Œç„¶åâ€œç°åœ¨â€ï¼Œæœ€åâ€œæœªæ¥â€ï¼‰
        </div>
        
        <div class="card-container">
            <!-- ç¬¬ä¸€å¼ ç‰Œï¼šè¿‡å» -->
            <div class="card card-front" id="card1" onclick="flipCard(1)">
                <div class="card-number">1</div>
                <div style="font-size: 20px; margin-top: 20px;">è¿‡å»</div>
                <div style="margin-top: 10px; font-size: 14px;">ç‚¹å‡»ç¿»å¼€</div>
            </div>
            
            <!-- ç¬¬äºŒå¼ ç‰Œï¼šç°åœ¨ -->
            <div class="card card-front" id="card2" onclick="flipCard(2)">
                <div class="card-number">2</div>
                <div style="font-size: 20px; margin-top: 20px;">ç°åœ¨</div>
                <div style="margin-top: 10px; font-size: 14px;">ç‚¹å‡»ç¿»å¼€</div>
            </div>
            
            <!-- ç¬¬ä¸‰å¼ ç‰Œï¼šæœªæ¥ -->
            <div class="card card-front" id="card3" onclick="flipCard(3)">
                <div class="card-number">3</div>
                <div style="font-size: 20px; margin-top: 20px;">æœªæ¥</div>
                <div style="margin-top: 10px; font-size: 14px;">ç‚¹å‡»ç¿»å¼€</div>
            </div>
        </div>
        
        <!-- ç‰ŒèƒŒå†…å®¹ï¼ˆå¼€å§‹æ—¶éšè—ï¼‰ -->
        <div class="card card-back" id="card1-back">
            < img id="card1-image" src="" alt="è¿‡å»ç‰Œé¢">
            <div class="card-title" id="card1-title"></div>
            <div class="card-text" id="card1-text"></div>
        </div>
        
        <div class="card card-back" id="card2-back">
            < img id="card2-image" src="" alt="ç°åœ¨ç‰Œé¢">
            <div class="card-title" id="card2-title"></div>
            <div class="card-text" id="card2-text"></div>
        </div>
        
        <div class="card card-back" id="card3-back">
            < img id="card3-image" src="" alt="æœªæ¥ç‰Œé¢">
            <div class="card-title" id="card3-title"></div>
            <div class="card-text" id="card3-text"></div>
        </div>
        
        <!-- æ•´ä½“è§£è¯» -->
        <div class="interpretation" id="interpretation">
            <h3>âœ¨ æ•´ä½“è§£è¯»</h3>
            <p id="interpretation-text"></p >
            <button class="btn" onclick="returnToSurvey()">è¿”å›é—®å·ç»§ç»­</button>
        </div>
        
        <div class="footer">
            <p>æ³¨ï¼šæœ¬ä½“éªŒä»…ç”¨äºå¿ƒç†å­¦ç ”ç©¶ï¼Œç»“æœä¸ä»£è¡¨çœŸå®é¢„æµ‹</p >
        </div>
    </div>

    <script>
        // ä»ç½‘å€è·å–å‚æ•°ï¼ˆåˆ†ç»„ä¾ç„¶åœ¨åå°èµ·ä½œç”¨ï¼Œåªæ˜¯å‰ç«¯ä¸æ˜¾ç¤ºï¼‰
        const urlParams = new URLSearchParams(window.location.search);
        const userId = urlParams.get('id') || 'æœªæŒ‡å®š';
        const group = urlParams.get('group') || 'positive';
        
        // å®šä¹‰ç‰Œç»„å†…å®¹ï¼ˆåŒ…å«å›¾ç‰‡é“¾æ¥ï¼‰
        const cardSets = {
            positive: {
                cards: [
                    {
                        imageUrl: "https://github.com/aye1314520/tarot-experiment/blob/main/image/bei.jpg?raw=true",
                        title: "è¿‡å»ï¼šåœ£æ¯ä¹ï¼ˆæ­£ä½ï¼‰",
                        text: "è¿™å¼ ç‰Œä»£è¡¨è¿‡å»é˜¶æ®µï¼Œä½ åœ¨ç›¸å…³é¢†åŸŸå·²ç»ç§¯ç´¯äº†ä¸€å®šçš„åŸºç¡€ä¸æ»¡è¶³æ„Ÿã€‚ä¹‹å‰çš„åŠªåŠ›ä¸ºä½ å¸¦æ¥äº†ç§¯æçš„åé¦ˆå’Œæˆå°±æ„Ÿï¼Œè¿™ä¸ºç°åœ¨çš„å‘å±•å¥ å®šäº†è‰¯å¥½çš„æ ¹åŸºã€‚"
                    },
                    {
                        imageUrl: "https://github.com/aye1314520/tarot-experiment/blob/main/image/yang.jpg?raw=true",
                        title: "ç°åœ¨ï¼šå¤ªé˜³ï¼ˆæ­£ä½ï¼‰",
                        text: "è¿™å¼ ç‰Œæ˜¾ç¤ºä½ ç›®å‰æ­£å¤„äºå……æ»¡æ´»åŠ›ä¸å…‰æ˜çš„é˜¶æ®µã€‚äº‹æƒ…è¿›å±•é¡ºåˆ©ï¼Œå‰æ™¯æ˜æœ—ï¼Œä½ æ‹¥æœ‰è¶³å¤Ÿçš„èƒ½é‡å’Œä¹è§‚å¿ƒæ€å»æ¨è¿›ç›®æ ‡ã€‚è¿™æ˜¯ä¸€ä¸ªé€‚åˆç§¯æè¡ŒåŠ¨ã€å±•ç°è‡ªæˆ‘èƒ½åŠ›çš„å¥½æ—¶æœºã€‚"
                    },
                    {
                        imageUrl: "https://github.com/aye1314520/tarot-experiment/blob/main/image/jie.jpg?raw=true",
                        title: "æœªæ¥ï¼šä¸–ç•Œï¼ˆæ­£ä½ï¼‰",
                        text: "è¿™å¼ ç‰Œé¢„ç¤ºæœªæ¥ä½ å°†è¾¾æˆåœ†æ»¡ä¸æ•´åˆã€‚ä½ çš„ç›®æ ‡æœ‰æœ›é¡ºåˆ©å®ç°ï¼Œå¹¶è·å¾—åº”æœ‰çš„å›æŠ¥ä¸æˆå°±æ„Ÿã€‚è¿™æ˜¯ä¸€ä¸ªå……æ»¡å’Œè°ä¸æˆåŠŸçš„æœªæ¥æ„¿æ™¯ã€‚"
                    }
                ],
                summary: "ç»¼åˆæ¥çœ‹ï¼Œä½ çš„ç›®æ ‡åœ¨è¿‡å»å·²æ‰“ä¸‹è‰¯å¥½åŸºç¡€ï¼Œç°åœ¨æ­£å¤„äºç§¯æå‘å±•çš„é˜¶æ®µï¼Œæœªæ¥å°†è¿æ¥åœ†æ»¡æˆåŠŸã€‚è¿™æ˜¯ä¸€ä¸ªéå¸¸ç§¯æçš„ä¿¡å·ï¼Œé¼“åŠ±ä½ ä¿æŒä¿¡å¿ƒï¼Œç»§ç»­åŠªåŠ›ï¼ŒæŠ“ä½çœ¼å‰çš„æœºé‡ã€‚"
            },
            negative: {
                cards: [
                    {
                        imageUrl: "https://github.com/aye1314520/tarot-experiment/blob/main/image/jian.jpg?raw=true",
                        title: "è¿‡å»ï¼šå®å‰‘äº”ï¼ˆé€†ä½ï¼‰",
                        text: "è¿™å¼ ç‰Œåæ˜ è¿‡å»é˜¶æ®µï¼Œä½ åœ¨ç›¸å…³é¢†åŸŸå¯èƒ½ç»å†äº†ä¸€äº›å†²çªæˆ–æŒ«è´¥ã€‚è¿™äº›ç»å†å¯èƒ½è®©ä½ æ„Ÿåˆ°å›°æƒ‘æˆ–å¤±è½ï¼Œå¯¹ç›®æ ‡çš„æ¨è¿›äº§ç”Ÿäº†ä¸€å®šçš„é˜»ç¢ã€‚"
                    },
                    {
                        imageUrl: "https://github.com/aye1314520/tarot-experiment/blob/main/image/yue.jpg?raw=true",
                        title: "ç°åœ¨ï¼šæœˆäº®ï¼ˆé€†ä½ï¼‰",
                        text: "è¿™å¼ ç‰Œæ˜¾ç¤ºä½ ç›®å‰å¯èƒ½å¤„äºä¸€ç§ä¸ç¡®å®šæˆ–ç„¦è™‘çš„çŠ¶æ€ã€‚äº‹æƒ…çš„å‘å±•æ–¹å‘ä¸å¤Ÿæ¸…æ™°ï¼Œå¯èƒ½å­˜åœ¨ä¸€äº›æ½œåœ¨çš„é˜»ç¢æˆ–è¯¯è§£ï¼Œè®©ä½ æ„Ÿåˆ°å›°æƒ‘ä¸ä¸å®‰ã€‚"
                    },
                    {
                        imageUrl: "https://github.com/aye1314520/tarot-experiment/blob/main/image/ta.jpg?raw=true",
                        title: "æœªæ¥ï¼šå¡”ï¼ˆé€†ä½ï¼‰",
                        text: "è¿™å¼ ç‰Œé¢„ç¤ºæœªæ¥å¯èƒ½ä¼šé‡åˆ°çªå¦‚å…¶æ¥çš„å˜åŒ–æˆ–æŒ‘æˆ˜ã€‚è™½ç„¶è¿™å¯èƒ½å¸¦æ¥ä¸€å®šçš„å‹åŠ›ï¼Œä½†ä¹Ÿæé†’ä½ éœ€è¦æå‰åšå¥½å‡†å¤‡ï¼Œçµæ´»åº”å¯¹å¯èƒ½çš„å˜åŒ–ã€‚"
                    }
                ],
                summary: "æ•´ä½“æ¥çœ‹ï¼Œä½ çš„ç›®æ ‡åœ¨è¿‡å»é‡åˆ°äº†ä¸€äº›é˜»ç¢ï¼Œç°åœ¨æ­£å¤„åœ¨ä¸€ç§ä¸ç¡®å®šçš„çŠ¶æ€ä¸­ï¼Œæœªæ¥åˆ™éœ€è¦è­¦æƒ•å¯èƒ½çš„æŒ‘æˆ˜ä¸å˜åŒ–ã€‚è¿™æ˜¯ä¸€ä¸ªéœ€è¦ä½ è°¨æ…æ€è€ƒã€ç¨³æ‰ç¨³æ‰“çš„é˜¶æ®µï¼Œå»ºè®®å¤šåšä¸€äº›å‡†å¤‡ä¸è§„åˆ’ã€‚"
            }
        };
        
        let flippedCards = 0;
        const currentSet = cardSets[group];
        
        function flipCard(cardNumber) {
            // ç¡®ä¿æŒ‰é¡ºåºç¿»ç‰Œ
            if (cardNumber !== flippedCards + 1) {
                alert(`è¯·å…ˆç¿»å¼€ç¬¬ ${flippedCards + 1} å¼ ç‰Œ`);
                return;
            }
            
            const cardFront = document.getElementById(`card${cardNumber}`);
            const cardBack = document.getElementById(`card${cardNumber}-back`);
            
            // éšè—æ­£é¢ï¼Œæ˜¾ç¤ºèƒŒé¢
            cardFront.style.display = 'none';
            cardBack.style.display = 'block';
            
            // è®¾ç½®ç‰Œé¢å†…å®¹ï¼ˆå›¾ç‰‡ã€æ ‡é¢˜ã€æ–‡å­—ï¼‰
            document.getElementById(`card${cardNumber}-image`).src = currentSet.cards[cardNumber-1].imageUrl;
            document.getElementById(`card${cardNumber}-title`).textContent = currentSet.cards[cardNumber-1].title;
            document.getElementById(`card${cardNumber}-text`).textContent = currentSet.cards[cardNumber-1].text;
            
            flippedCards++;
            
            // æ›´æ–°æŒ‡ç¤º
            if (flippedCards < 3) {
                document.getElementById('instruction').textContent = 
                    `è¯·ç‚¹å‡»ç¬¬ ${flippedCards + 1} å¼ ç‰Œï¼ˆ${flippedCards === 1 ? 'ç°åœ¨' : 'æœªæ¥'}ï¼‰`;
            }
            
            // å¦‚æœä¸‰å¼ ç‰Œéƒ½ç¿»å¼€äº†ï¼Œæ˜¾ç¤ºæ•´ä½“è§£è¯»
            if (flippedCards === 3) {
                setTimeout(() => {
                    document.getElementById('interpretation-text').textContent = currentSet.summary;
                    document.getElementById('interpretation').style.display = 'block';
                    document.getElementById('instruction').style.display = 'none';
                }, 500);
            }
        }
        
        function returnToSurvey() {
            // === é‡è¦ï¼šè¿™é‡Œéœ€è¦æ›¿æ¢æˆä½ çœŸå®çš„è§æ•°é—®å·é“¾æ¥ ===
            const baseUrl = "https://www.credamo.cn/s/ä½ çš„é—®å·ID"; // è¯·åŠ¡å¿…ä¿®æ”¹æ­¤å¤„ï¼
            
            // æ„é€ è¿”å›é“¾æ¥ï¼Œå¸¦ä¸Šå‚æ•°
            const returnUrl = `${baseUrl}?user=${userId}&completed=1&source=tarot`;
            
            // è·³è½¬å›è§æ•°
            window.location.href = returnUrl;
            
            // å¦‚æœè·³è½¬å¤±è´¥ï¼Œæ˜¾ç¤ºæç¤º
            setTimeout(() => {
                alert("å¦‚æœé¡µé¢æ²¡æœ‰è‡ªåŠ¨è·³è½¬ï¼Œè¯·æ‰‹åŠ¨è¿”å›é—®å·ç»§ç»­ä½œç­”");
            }, 1000);
        }
    </script>
</body>

</html>
